<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

  <!--link src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
  <link src="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet"-->
</head>

<!-- <form #loginForm="ngForm">
    <div class="form-group">
        <label for="username">Username:</label>
        <input id="username" class="form-control" type="text"
        placeholder="Username" name="username" required
        [(ngModel)]="credentials.username" #username="ngModel">
        <div [hidden]="username.valid || username.pristine"
        class="text-danger">
        Username is required
        </div>
    </div>

    <div class="form-group">
        <label for="password">Password:</label>
        <input id="password" class="form-control" type="text"
        placeholder="Password" name="password" required
        [(ngModel)]="credentials.password" #password="ngModel">
        <div [hidden]="password.valid || password.pristine"
        class="text-danger">
        Password is required
        </div>
    </div>
</form>

<button class="btn btn-warning"
    (click)="login()"
    [disabled]="!loginForm.form.valid">
    <span class="ml-1">Log in</span>
</button> -->


<!-- 
<div>
<form #loginForm="ngForm">
  <div class="card-body">
    <div class="form-group">
      <label for="username">Username</label>
      <input type="username" class="form-control" id="username" placeholder="Username" required
      [(ngModel)]="credentials.username" #username="ngModel">
      <div [hidden]="username.valid || username.pristine" class="text-danger">
        Username is required </div>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" class="form-control" id="password" placeholder="Password" required
      [(ngModel)]="credentials.password" #password="ngModel">
      <div [hidden]="password.valid || password.pristine" class="text-danger">
        Password is required </div>
    </div>
  </div>
  <div class="card-footer">
    <button type="submit" class="btn btn-primary" 
    (click)="login()"
    [disabled]="!loginForm.form.valid">
    Log in</button>
  </div>
</form>
</div> -->
<div class="card card-outline card-primary">
  <div class="card-header text-center">
      <a [routerLink]="['/']" class="h1"><b>EastCoders</b> Bank</a>
  </div>
  <div class="card-body">
      <p class="login-box-msg">Sign in to start your session</p>

      <form [formGroup]="loginForm" (ngSubmit)="login(loginForm)">
        <small *ngIf="serverError"  class="text-danger">
            {{errorMessage}}</small>
   
        <small [hidden]="loginForm.get('username').valid || loginForm.get('username').pristine"
        class="text-danger">Username is required</small>

          <div class="input-group mb-3">
              <input
                  formControlName="username"
                  type="username"
                  class="form-control"
                  placeholder="Username"
                  [(ngModel)]="credentials.username" 
                  required
              />
              <div class="input-group-append">
                  <div class="input-group-text">
                      <span class="fa fa-envelope"></span>
                  </div>
              </div>
        
          </div>
          <small [hidden]="loginForm.get('password').valid || loginForm.get('password').pristine"
                class="text-danger">Password is required</small>
          <div class="input-group mb-3">
              <input
                  formControlName="password"
                  type="{{show ? 'text' : 'password'}}"
                  class="form-control"
                  placeholder="Password"
                  [(ngModel)]="credentials.password"
                  required
              />
              <div class="input-group-append">
                <div class="input-group-text">
              <i (click) = "togglePass()" class="{{show ? 'fa fa-eye' : 'fa fa-eye-slash'}}" id="togglePassword"></i>
            </div>
        </div>
              <div class="input-group-append">
                  <div class="input-group-text">
                      <span class="fa fa-lock"></span>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="col-7">
                  <div class="icheck-primary">
                      <input type="checkbox" id="remember" />
                      <label for="remember"> Remember Me </label>
                  </div>
              </div>
              <!-- /.col -->
              <div class="col-5">
                  <app-button
                      [type]="'submit'"
                      [block]="true"
                      [disabled]="!loginForm.valid"
                  >
                      Sign In
                  </app-button>
              </div>
              <!-- /.col -->
          </div>
      </form>

      <p class="mb-1">
          <a [routerLink]="['/forgot-password']">I forgot my password</a>
      </p>
    
  </div>
  <!-- /.login-card-body -->
</div>

